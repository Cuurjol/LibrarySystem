<Window x:Class="Library.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Система &quot;БИБЛИОТЕКА&quot;"
        WindowStartupLocation="CenterScreen"
        Width="900"
        Height="710"
        Icon="Icon/books_library_1768.ico"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        Closed="Window_Closed"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">
    <Window.Resources>
        <Style TargetType="DataGrid">
            <Setter Property="CellStyle">
                <Setter.Value>
                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                        <!--https://stackoverflow.com/questions/48790605/wpf-datagrid-disabled-row-foreground-color-not-beeing-set-->
                        <Style.Triggers>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsEnabled" Value="False"/>
                                    <Condition Property="IsSelected" Value="True"/>
                                </MultiTrigger.Conditions>
                                <MultiTrigger.Setters>
                                    <Setter Property="Foreground" Value="Black"/>
                                </MultiTrigger.Setters>
                            </MultiTrigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>
            <Setter Property="Height" Value="150"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserReorderColumns" Value="False"/>
            <Setter Property="CanUserResizeColumns" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Disabled"/>
            <!--https://stackoverflow.com/questions/4539909/wpf-datagrid-selected-row-style-->
            <Style.Resources>
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="DarkBlue"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Aqua"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="DarkGreen"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}" Color="Lime"/>
            </Style.Resources>
        </Style>
        <Style TargetType="ListBox">
            <Style.Resources>
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="DarkBlue"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Aqua"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="DarkGreen"/>
                <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}" Color="Lime"/>
            </Style.Resources>
        </Style>
        <DataTemplate x:Key="TextWrappingCheckBox">
            <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
        </DataTemplate>
    </Window.Resources>
    <DockPanel Margin="5">
        <TabControl Name="LibraryTabControl">
            <TabItem Name="BlackListReadersTabItem" Header="Чёрный список читателей">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox Grid.Row="0" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица читателей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="ReaderForAdminDataGrid" SelectionChanged="ReaderForAdminDataGridSelectionChanged" Margin="0,5,0,0" SelectionMode="Extended" MouseDoubleClick="ReaderForAdminDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="ФИО" Width="250" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Status}" Header="Статус" Width="100"/>
                                    <DataGridCheckBoxColumn Binding="{Binding Blocked}" Header="Заблокирован" Width="100"/>
                                    <DataGridCheckBoxColumn Binding="{Binding Removed}" Header="Удалён" Width="60"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="DeleteReaderFromSystemButton" Content="Удалить читателя из системы" IsEnabled="False" Click="DeleteReaderFromSystemButton_Click"/>
                                <Button Grid.Column="1" x:Name="AddReaderInBlackListButton" Content="Добавить читателя в чёрный список" IsEnabled="False" Click="AddReaderInBlackListButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Чёрный список читателей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="BlackListDataGrid" SelectionChanged="BlackListDataGridSelectionChanged" Margin="0,5,0,0" MouseDoubleClick="BlackListDataGridCancelSelection_DoubleClick">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="ФИО читателя" Width="250"/>
                                    <DataGridTextColumn Binding="{Binding Date, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата создания" Width="260"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Button Grid.Column="0" x:Name="DeleteReaderFromBlackListButton" Content="Удалить читателя из чёрного списка" IsEnabled="False" Click="DeleteReaderFromBlackListButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="0" Grid.RowSpan="2" Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация читателей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <WrapPanel Name="BlackListOrReaderSearchFilterWrapPanel">
                                <CheckBox Name="ReaderForAdminDataGridFilterCheckBox" Content="Таблица читателей" Margin="5,5,10,5" Checked="ReaderBlackListDataGridSearchFilter" Unchecked="ReaderBlackListDataGridSearchFilter"/>
                                <CheckBox Name="BlackListDataGridFilterCheckBox" Content="Чёрный список читателей" Margin="5,5,10,5" Checked="ReaderBlackListDataGridSearchFilter" Unchecked="ReaderBlackListDataGridSearchFilter"/>
                            </WrapPanel>
                            <WrapPanel Name="NameReaderBlackListFilterWrapPanel" IsEnabled="False">
                                <TextBlock Text="ФИО" Margin="5,5,13,5" VerticalAlignment="Center"/>
                                <TextBox Name="NameReaderBlackListTextBox" Margin="5" Width="200" TextChanged="NameReaderBlackListSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="AddRemoveDeleteBlackListReaderFilterWrapPanel" IsEnabled="False">
                                <StackPanel>
                                    <CheckBox x:Name="AddReaderInBlackListFilter" Content="Добавить читателя в чёрный список" Margin="5,5,0,5" Checked="AddRemoveDeleteReaderForAdminDataGridFilter" Unchecked="AddRemoveDeleteReaderForAdminDataGridFilter"/>
                                    <CheckBox x:Name="RemoveReaderFromBlackListFilter" Content="Убрать читателя из чёрного списка" Margin="5,5,0,5" Checked="AddRemoveDeleteReaderForAdminDataGridFilter" Unchecked="AddRemoveDeleteReaderForAdminDataGridFilter"/>
                                    <CheckBox x:Name="DeleteReaderFromSystemFilter" Content="Удалить читателя из системы" Margin="5,5,0,5" Checked="AddRemoveDeleteReaderForAdminDataGridFilter" Unchecked="AddRemoveDeleteReaderForAdminDataGridFilter"/>
                                </StackPanel>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Name="UsersTabItem" Header="Пользователи системы">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox Grid.Row="0" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица пользователей системы" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="UserDataGrid" Margin="0,5,0,0" SelectionChanged="UserDataGridSelectionChanged" MouseDoubleClick="UserDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="ФИО пользователя" Width="180" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding UserRole}" Header="Роль" Width="100"/>
                                    <DataGridTextColumn Binding="{Binding Login}" Header="Login" Width="100" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Password}" Header="Password" Width="120" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding TimeInSystem, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата входа" Width="150" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding TimeOutSystem, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата выхода" Width="150" ElementStyle="{StaticResource WrapText}"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="CreateUserButton" Content="Добавить пользователя" Click="CreateUserButton_Click"/>
                                <Button Grid.Column="1" x:Name="DeleteUserButton" Content="Удалить пользователя" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы пользователей нужного пользователя для удаления" Click="DeleteUserButton_Click"/>
                                <Button Grid.Column="2" x:Name="UpdateUserButton" Content="Редактировать пользователя" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы пользователей нужного пользователя для редактирования" Click="UpdateUserButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="0" Grid.Column="1" Name="UserFilterGroupBox">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация пользователей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <RadioButton IsChecked="True" Name="UserTurnOffFilter" Margin="0,5,0,5" Content="Выключить фильтрацию" Checked="UserRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Name="UserTurnOnFilter" Margin="0,5,0,5" Content="Включить фильтрацию" Checked="UserRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="UserSearchFilterWrapPanel" Visibility="Collapsed">
                                <CheckBox Name="NameUserFilterCheckBox" Content="ФИО" Margin="5,5,10,5" Checked="UserSearchFilterChecked" Unchecked="UserSearchFilterChecked"/>
                                <CheckBox Name="LoginUserFilterCheckBox" Content="Login" Margin="5,5,10,5" Checked="UserSearchFilterChecked" Unchecked="UserSearchFilterChecked"/>
                            </WrapPanel>
                            <WrapPanel Name="UserTextSearchWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Поиск" Margin="5,5,13,5" VerticalAlignment="Center"/>
                                <TextBox Name="UserSearchTextBox" Margin="5" Width="200" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы текстовое поле было активным, поставьте галочку на нужном фильтре для поиска" TextChanged="UserSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="SelectedUserTurnOnFilterWrapPanel" Visibility="Collapsed">
                                <CheckBox Name="SelectedUserCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Включить фильтрацию журнала для выбранного пользователя системы" Margin="5" Width="250" IsEnabled="False" Checked="EntityRecordSearchTutnOnFilterForSelectedUser" Unchecked="EntityRecordSearchTutnOnFilterForSelectedUser"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Журнал последних действий пользователей системы" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <GroupBox Margin="0,5,0,0">
                                <GroupBox.Header>
                                    <TextBlock Text="Записи таблиц в базе данных" FontWeight="Bold"/>
                                </GroupBox.Header>
                                <StackPanel>
                                    <DataGrid x:Name="EntityRecordDataGrid" Margin="0,5,0,0" SelectionChanged="EntityRecordDataGridSelectionChanged" MouseDoubleClick="EntityRecordDataGridCancelSelection_DoubleClick">
                                        <DataGrid.Resources>
                                            <Style TargetType="TextBlock" x:Key="WrapText">
                                                <Setter Property="TextWrapping" Value="Wrap"/>
                                            </Style>
                                        </DataGrid.Resources>
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Binding="{Binding Entity.Name}" Header="Таблица" Width="100"/>
                                            <DataGridTextColumn Binding="{Binding Name}" Header="Название записи" Width="200" ElementStyle="{StaticResource WrapText}"/>
                                            <DataGridTextColumn Binding="{Binding State}" Header="Состояние" Width="110"/>
                                            <DataGridTextColumn Binding="{Binding CreatedBy.Name}" Header="Создал" Width="190" ElementStyle="{StaticResource WrapText}"/>
                                            <DataGridTextColumn Binding="{Binding ModifiedBy.Name}" Header="Изменил" Width="190" ElementStyle="{StaticResource WrapText}"/>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                    <Grid Margin="0,10,0,0">
                                        <Button x:Name="DeleteEntityRecordButton" Content="Удалить выбранную запись" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы запись, у которой состояние = &quot;Удалён&quot;" Click="DeleteEntityRecord_Click"/>
                                    </Grid>
                                </StackPanel>
                            </GroupBox>
                            <GroupBox Margin="0,5,0,0">
                                <GroupBox.Header>
                                    <TextBlock Text="Вывод истории изменений выбранной записи" FontWeight="Bold"/>
                                </GroupBox.Header>
                                <StackPanel>
                                    <DataGrid x:Name="EntityHistoryDataGrid" Margin="0,5,0,0">
                                        <DataGrid.Resources>
                                            <Style TargetType="TextBlock" x:Key="WrapText">
                                                <Setter Property="TextWrapping" Value="Wrap"/>
                                            </Style>
                                        </DataGrid.Resources>
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Binding="{Binding FieldName}" Header="Поле" Width="100"/>
                                            <DataGridTextColumn Binding="{Binding OldValue}" Header="Старое значение" Width="170" ElementStyle="{StaticResource WrapText}"/>
                                            <DataGridTextColumn Binding="{Binding NewValue}" Header="Новое значение" Width="170" ElementStyle="{StaticResource WrapText}"/>
                                            <DataGridTextColumn Binding="{Binding Date, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата" Width="170" ElementStyle="{StaticResource WrapText}"/>
                                            <DataGridTextColumn Binding="{Binding User.Name}" Header="Пользователь" Width="180" ElementStyle="{StaticResource WrapText}"/>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Grid.Column="1" Name="ChangeLogFilterGroupBox">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация журнала" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <RadioButton IsChecked="True" Name="ChangeLogTurnOffFilter" Margin="0,5,0,5" Content="Выключить фильтрацию" Checked="ChangeLogRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Name="ChangeLogTurnOnFilter" Margin="0,5,0,5" Content="Включить фильтрацию" Checked="ChangeLogRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="NameEntityRecordWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Запись" Margin="5" VerticalAlignment="Center"/>
                                <TextBox Name="NameEntityRecordTextBox" Width="200" Margin="5" TextChanged="EntityRecordNameSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="StateEntityRecordWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Состояние" Margin="5,5,15,5" VerticalAlignment="Center"/>
                                <ComboBox Name="StateEntityRecordComboBox" Width="120" Margin="5" SelectionChanged="EntityRecordStateComboBoxSelection">
                                    <ComboBox.Items>
                                        <ComboBoxItem Content="Добавлен"/>
                                        <ComboBoxItem Content="Изменён"/>
                                        <ComboBoxItem Content="Удалён"/>
                                    </ComboBox.Items>
                                </ComboBox>
                                <Button Name="StateEntityRecordCancelFilterButton" Content="Отмена" VerticalAlignment="Center" Margin="5" IsEnabled="False" Click="EntityRecordStateCancelSearchButton_Click"/>
                            </WrapPanel>
                            <WrapPanel Name="UserEntityRecordWrapPanel" Width="300" Visibility="Collapsed">
                                <CheckBox Name="CreatedByCheckBox" Content="Создал" Margin="5,5,60,5" Checked="EntityRecordUserSearchFilterChecked" Unchecked="EntityRecordUserSearchFilterChecked"/>
                                <CheckBox Name="ModifiedByCheckBox" Content="Изменил" Margin="90,5,0,5" Checked="EntityRecordUserSearchFilterChecked" Unchecked="EntityRecordUserSearchFilterChecked"/>
                                <TextBlock Text="Пользователь" Margin="5"/>
                                <TextBox Name="UserEntityRecordTextBox" Width="200" Margin="5" IsEnabled="False" TextChanged="EntityRecordUserSqlLikeSearch"/>
                            </WrapPanel>
                            <GroupBox Name="EntityHistoryFilterGroupBox" Visibility="Collapsed" IsEnabled="False">
                                <GroupBox.Header>
                                    <CheckBox Name="EntityHistoryRecordCheckBox" Margin="5" Content="Поиск истории изменений выбранной записи" FontWeight="Bold" Checked="EntityHistoryRecordChecked" Unchecked="EntityHistoryRecordChecked"/>
                                </GroupBox.Header>
                                <StackPanel Name="EntityHistoryStackPanel" Visibility="Collapsed">
                                    <WrapPanel Name="ValueEntityHistoryWrapPanel" Width="300">
                                        <CheckBox Name="OldValueEntityHistoryCheckBox" Content="Старое значение" Margin="5,5,50,5" Checked="ValueEntityHistoryChecked" Unchecked="ValueEntityHistoryChecked"/>
                                        <CheckBox Name="NewValueEntityHistoryCheckBox" Content="Новое значение" Margin="5" Checked="ValueEntityHistoryChecked" Unchecked="ValueEntityHistoryChecked"/>
                                        <TextBlock Text="Значение" Margin="5" VerticalAlignment="Center"/>
                                        <TextBox Name="ValueEntityHistoryTextBox" Margin="5" Width="200" IsEnabled="False" TextChanged="ValueEntityHistorySqlLikeSearch"/>
                                    </WrapPanel>
                                    <WrapPanel Name="UserEntityHistoryWrapPanel">
                                        <TextBlock Text="Пользователь" Margin="5"/>
                                        <TextBox Name="UserEntityHistoryTextBox" Margin="5" Width="200" TextChanged="UserEntityHistorySqlLikeSearch"/>
                                    </WrapPanel>
                                    <WrapPanel Name="DateTimeEntityHistoryWrapPanel" Width="300">
                                        <TextBlock Text="От" Margin="5" VerticalAlignment="Center"/>
                                        <xctk:DateTimePicker Name="DateTimeFromEntityHistory" Width="200" Margin="5" CalendarDisplayMode="Decade" Format="RFC1123" ValueChanged="DateTimeEntityHistoryValueChanged"/>
                                        <ComboBox Name="EntityHistoryDateTimeConditionFiltersComboBox" Width="50" Margin="5" SelectionChanged="DateTimeEntityHistoryConditionFiltersChanged">
                                            <ComboBox.Items>
                                                <ComboBoxItem Content=""/>
                                                <ComboBoxItem Content="="/>
                                                <ComboBoxItem Content="≠"/>
                                                <ComboBoxItem Content="&gt;"/>
                                                <ComboBoxItem Content="&lt;"/>
                                                <ComboBoxItem Content="&gt;="/>
                                                <ComboBoxItem Content="&lt;="/>
                                            </ComboBox.Items>
                                        </ComboBox>
                                        <TextBlock Text="До" Margin="5"/>
                                        <xctk:DateTimePicker Name="DateTimeToEntityHistory" Width="200" Margin="5" CalendarDisplayMode="Decade" Format="RFC1123" ValueChanged="DateTimeEntityHistoryValueChanged"/>
                                        <Button Name="DateTimeSearchEntityHistoryButton" Content="Поиск" Margin="30,5,5,5" Width="60" IsEnabled="False" Click="DateTimeEntityHistorySearchButton_Click"/>
                                        <Button Content="Отмена" Margin="75,5,5,5" Width="60" Click="DateTimeEntityHistoryCancelSearchButton_Click"/>
                                    </WrapPanel>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Name="ReadersTabItem" Header="Читатели">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox x:Name="ReaderFilterGroupBox" Grid.Row="0" Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация читаталей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <RadioButton Content="Выключить фильтрацию" IsChecked="True" x:Name="ReaderTurnOffFilter" Margin="0,5,0,5" Checked="ReaderRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Content="Включить фильтрацию" x:Name="ReaderTurnOnFilter" Margin="0,5,0,5" Checked="ReaderRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="NameReaderFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="ФИО" Margin="5,5,13,5" VerticalAlignment="Center"/>
                                <TextBox Name="NameReaderTextBox" Margin="5" Width="200" TextChanged="NameReaderSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="StatusReaderFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Name="StatusReaderTextBlock" Text="Статус" Margin="5" VerticalAlignment="Center"/>
                                <ComboBox Name="StatusReaderComboBox" Margin="5" Width="150" SelectionChanged="StatusReaderComboBoxSelection">
                                    <ComboBox.Items>
                                        <ComboBoxItem Content="Активен"/>
                                        <ComboBoxItem Content="Заблокирован"/>
                                    </ComboBox.Items>
                                </ComboBox>
                                <Button Name="StatusReaderSearchButton" Margin="5" Content="Поиск" Width="60" IsEnabled="False" Click="StatusReaderSearchButton_Click"/>
                                <Button Name="StatusReaderCancelSearchButton" Margin="5" Content="Отмена" Width="60" IsEnabled="False" Click="StatusReaderCancelSearchButton_Click"/>
                            </WrapPanel>
                            <WrapPanel Name="SelectedReaderTurnOnFilterWrapPanel" Visibility="Collapsed">
                                <CheckBox Name="SelectedReaderCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Включить фильтрацию заказов для выбранного читателя" Margin="5" Width="250" IsEnabled="False" Checked="OrderSearchTutnOnFilterForSelectedReader" Unchecked="OrderSearchTutnOnFilterForSelectedReader"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="0" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица читателей" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="ReaderDataGrid" SelectionChanged="ReaderDataGridSelectionChanged" Margin="0,5,0,0" MouseDoubleClick="ReaderDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="ФИО" Width="280" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Status}" Header="Статус" Width="120"/>
                                    <DataGridCheckBoxColumn Binding="{Binding Blocked}" Header="Заблокирован" Width="100"/>
                                    <DataGridCheckBoxColumn Binding="{Binding Removed}" Header="Удалён" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="CreateReaderButton" Content="Добавить читателя" Click="CreateReaderButton_Click"/>
                                <Button Grid.Column="1" x:Name="UpdateReaderButton" ToolTipService.ShowOnDisabled="True" Content="Редактировать читателя" IsEnabled="False" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы читателей нужного читателя для редактирования" Click="UpdateReaderButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox x:Name="OrderFilterGroupBox" Grid.Row="1"  Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация заказов" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <RadioButton Content="Выключить фильтрацию" IsChecked="True" x:Name="OrderTurnOffFilter" Margin="0,5,0,5" Checked="OrderRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Content="Включить фильтрацию" x:Name="OrderTurnOnFilter" Margin="0,5,0,5" Checked="OrderRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="NumberOrderFilterWrapPanel" Margin="0,0,0,10" Visibility="Collapsed">
                                <TextBlock Text="Номер" Margin="5,5,20,5" VerticalAlignment="Center"/>
                                <TextBox Name="NumberOrderTextBox" Margin="5" Width="200" TextChanged="NumberOrderSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="DateOrderFilterWrapPanel" Width="330" Visibility="Collapsed">
                                <CheckBox Name="RegisteredOnOrderCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Дата регистрации" Margin="5,0,20,5" Width="90" Checked="DateTimeOrderFiltersChecked" Unchecked="DateTimeOrderFiltersChecked"/>
                                <CheckBox Name="DeadlineDateOrderCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Дата закрытия" Margin="10,0,10,5" Width="90" Checked="DateTimeOrderFiltersChecked" Unchecked="DateTimeOrderFiltersChecked"/>
                                <CheckBox Name="ClosureDateOrderCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Фактическое закрытие" Width="90" Margin="10,0,0,5" Checked="DateTimeOrderFiltersChecked" Unchecked="DateTimeOrderFiltersChecked"/>
                                <TextBlock Text="От" Margin="5,5,20,5" VerticalAlignment="Center"/>
                                <xctk:DateTimePicker Name="DateTimeFromOrder" VerticalAlignment="Center" Width="200" CalendarDisplayMode="Decade" Format="RFC1123" IsEnabled="False" ValueChanged="DateTimeOrderValueChanged"/>
                                <ComboBox Name="OrderDateTimeConditionFiltersComboBox" Margin="20,5,0,5" VerticalAlignment="Center" Width="50" SelectionChanged="DateTimeOrderConditionFiltersChanged">
                                    <ComboBox.Items>
                                        <ComboBoxItem Content=""/>
                                        <ComboBoxItem Content="="/>
                                        <ComboBoxItem Content="≠"/>
                                        <ComboBoxItem Content="&gt;"/>
                                        <ComboBoxItem Content="&lt;"/>
                                        <ComboBoxItem Content="&gt;="/>
                                        <ComboBoxItem Content="&lt;="/>
                                    </ComboBox.Items>
                                </ComboBox>
                                <TextBlock Text="До" Margin="5,5,20,5" VerticalAlignment="Center" TextWrapping="Wrap"/>
                                <xctk:DateTimePicker Name="DateTimeToOrder" VerticalAlignment="Center" Width="200" CalendarDisplayMode="Decade" Format="RFC1123" IsEnabled="False" ValueChanged="DateTimeOrderValueChanged"/>
                                <Button Name="DateTimeSearchOrderButton" Margin="40,10,0,0" Content="Поиск" Width="60" IsEnabled="False" Click="DateTimeOrderSearchButton_Click"/>
                                <Button Margin="80,10,0,0" Content="Отмена" Width="60" Click="DateTimeOrderCancelSearchButton_Click"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица заказов" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="OrderDataGrid" Margin="0,5,0,0" SelectionChanged="OrderDataGridSelectionChanged" MouseDoubleClick="OrderDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Number}" Header="Номер" Width="60"/>
                                    <DataGridTextColumn Binding="{Binding RegisteredOn, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата регистрации" Width="180" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding DeadlineDate, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Дата закрытия" Width="180" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding ClosureDate, StringFormat={}{0:F}, ConverterCulture='ru-RU'}" Header="Фактическое закрытие" Width="180" ElementStyle="{StaticResource WrapText}"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="CreateOrderButton" Content="Оформить заказ" Click="CreateOrderButton_Click"/>
                                <Button Grid.Column="1" x:Name="ViewOrderаButton" Content="Посмотреть заказ" IsEnabled="False" Click="ViewOrderDetailButton_Click"/>
                                <Button Grid.Column="2" x:Name="CloseOrderButton" Content="Закрыть заказ" IsEnabled="False" Click="CloseOrderButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Name="CatalogsTabItem" Header="Каталоги книг">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox x:Name="CatalogFilterGroupBox" Grid.Row="0" Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация каталогов" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel x:Name="CatalogFilterStackPanel">
                            <RadioButton Content="Выключить фильтрацию" IsChecked="True" x:Name="CatalogTurnOffFilter" Margin="0,5,0,5" Checked="CatalogRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Content="Включить фильтрацию" x:Name="CatalogTurnOnFilter" Margin="0,5,0,5" Checked="CatalogRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="NameCatalogFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Название" Margin="5" VerticalAlignment="Center"/>
                                <TextBox Name="NameCatalogTextBox" Margin="5" Width="200" TextChanged="NameCatalogSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="SelectedCatalogTurnOnFilterWrapPanel" Visibility="Collapsed">
                                <CheckBox Name="SelectedCatalogCheckBox" ContentTemplate="{StaticResource TextWrappingCheckBox}" Content="Включить фильтрацию книг для выбранного каталога" Margin="5" Width="250" IsEnabled="False" Checked="BookSearchTutnOnFilterForSelectedCatalog" Unchecked="BookSearchTutnOnFilterForSelectedCatalog"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="0" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица каталогов" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="CatalogDataGrid" Margin="0,5,0,0" SelectionChanged="CatalogDataGridSelectionChanged" MouseDoubleClick="CatalogDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="Название" Width="200" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Description}" Header="Описание" Width="400" ElementStyle="{StaticResource WrapText}"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="CreateCatalogButton" Content="Добавить каталог" Click="CreateCatalogButton_Click"/>
                                <Button Grid.Column="1" x:Name="DeleteCatalogButton" Content="Удалить каталог" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы каталогов нужный каталог для удаления" Click="DeleteCatalogButton_Click"/>
                                <Button Grid.Column="2" x:Name="UpdateCatalogButton" Content="Редактировать каталог" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы каталогов нужный каталог для редактирования" Click="UpdateCatalogButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox x:Name="BookFilterGroupBox" Grid.Row="1" Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Фильтрация книг" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel x:Name="BookFilterStackPanel">
                            <RadioButton Content="Выключить фильтрацию" IsChecked="True" x:Name="BookTurnOffFilter" Margin="0,5,0,5" Checked="BookRadioButtonChecked" HorizontalAlignment="Left"/>
                            <RadioButton Content="Включить фильтрацию" x:Name="BookTurnOnFilter" Margin="0,5,0,5" Checked="BookRadioButtonChecked" HorizontalAlignment="Left"/>
                            <WrapPanel Name="NameBookFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Название" Margin="5,5,19,5" VerticalAlignment="Center"/>
                                <TextBox Name="NameBookTextBox" Margin="5" Width="200" TextChanged="NameBookSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="GenreBookFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Жанр" Margin="5,5,42,5" VerticalAlignment="Center"/>
                                <ComboBox Name="GenreBookComboBox" Margin="5" Width="200" DisplayMemberPath="Name" SelectedValuePath="Id" SelectionChanged="GenreBookComboBoxSelection"/>
                                <Button Margin="5" Content="Поиск" Width="60" Click="GenreBookSearchButton_Click"/>
                                <Button Margin="5" Content="Отмена" Width="60" Click="GenreBookCancelSearchButton_Click"/>
                            </WrapPanel>
                            <WrapPanel Name="AuthorBookFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Автор" Margin="5,5,39,5" VerticalAlignment="Center"/>
                                <TextBox Name="AuthorBookTextBox" Margin="5" Width="200" TextChanged="AuthorBookSqlLikeSearch"/>
                            </WrapPanel>
                            <WrapPanel Name="YearBookFilterWrapPanel" Visibility="Collapsed">
                                <TextBlock Text="Год издания" Margin="5" VerticalAlignment="Center"/>
                                <xctk:MaskedTextBox Name="YearBookMaskedTextBox" Margin="5" Width="50" VerticalAlignment="Center" Mask="0000"  ValueDataType="{x:Type sys:UInt32}" TextChanged="YearBookTextChanged"/>
                                <ComboBox Name="YearBookConditionFilterComboBox" Margin="5" Width="50" VerticalAlignment="Center" SelectionChanged="YearBookConditionFiltersChanged">
                                    <ComboBox.Items>
                                        <ComboBoxItem Content="="/>
                                        <ComboBoxItem Content="≠"/>
                                        <ComboBoxItem Content="&gt;"/>
                                        <ComboBoxItem Content="&lt;"/>
                                        <ComboBoxItem Content="&gt;="/>
                                        <ComboBoxItem Content="&lt;="/>
                                    </ComboBox.Items>
                                </ComboBox>
                                <Button Margin="5" Content="Отмена" Width="60" Click="YearBookCancelSearchButton_Click"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="1" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Таблица книг" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <DataGrid x:Name="BookDataGrid" Margin="0,5,0,0" SelectionChanged="BookDataGridSelectionChanged" MouseDoubleClick="BookDataGridCancelSelection_DoubleClick">
                                <DataGrid.Resources>
                                    <Style TargetType="TextBlock" x:Key="WrapText">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Binding="{Binding Name}" Header="Название" Width="150" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Genre.Name}" Header="Жанр" Width="120" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Author}" Header="Автор" Width="120" ElementStyle="{StaticResource WrapText}"/>
                                    <DataGridTextColumn Binding="{Binding Year}" Header="Год издания" Width="90"/>
                                    <DataGridTextColumn Binding="{Binding Catalog.Name}" Header="Каталог" Width="120" ElementStyle="{StaticResource WrapText}"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" x:Name="CreateBookButton" Content="Добавить книгу" Click="CreateBookButton_Click"/>
                                <Button Grid.Column="1" x:Name="DeleteBookButton" Content="Удалить книгу" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы книг нужную книгу для удаления" Click="DeleteBookButton_Click"/>
                                <Button Grid.Column="2" x:Name="UpdateBookButton" Content="Редактировать книгу" IsEnabled="False" ToolTipService.ShowOnDisabled="True" ToolTip="Для того, чтобы кнопка была активной, выберите из таблицы книг нужную книгу для редактирования" Click="UpdateBookButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Name="GenreDirectoryTabItem" Header="Справочник жанров">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox Grid.Row="0" Grid.Column="0" Margin="0,0,7,0">
                        <GroupBox.Header>
                            <TextBlock Text="Режимы управления справочника" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <RadioButton Name="GenreDirectoryTurnOffOperationRadioButton" Margin="5" Content="Вывод списка жанров" IsChecked="True" Checked="GenreDirectoryControlModeChecked"/>
                            <RadioButton Name="GenreDirectoryCreateModeRadioButton" Margin="5" Content="Добавление нового жанра" Checked="GenreDirectoryControlModeChecked"/>
                            <RadioButton Name="GenreDirectoryUpdateModeRadioButton" Margin="5" Content="Редактирование существующего жанра" Checked="GenreDirectoryControlModeChecked"/>
                            <RadioButton Name="GenreDirectoryDeleteModeRadioButton" Margin="5" Content="Удаление существующего жанра" Checked="GenreDirectoryControlModeChecked"/>
                            <WrapPanel>
                                <TextBlock Text="Название" Margin="5" VerticalAlignment="Center"/>
                                <TextBox Name="NameGenreDirectoryTextBox" Margin="5"  Width="250" IsEnabled="False" TextChanged="NameGenreDirectoryTextChanged"/>
                            </WrapPanel>
                            <WrapPanel>
                                <Button Name="GenreDirectoryActionButton" Margin="175,5,5,5" Content="Добавить запись" VerticalAlignment="Center" Visibility="Collapsed" IsEnabled="False" MinWidth="140" Click="GenreDirectoryActionButton_Click"/>
                            </WrapPanel>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Grid.Row="0" Grid.Column="1">
                        <GroupBox.Header>
                            <TextBlock Text="Список жанров" FontWeight="Bold"/>
                        </GroupBox.Header>
                        <StackPanel>
                            <ListBox x:Name="GenreDirectoryListBox" MinWidth="300" MinHeight="200" Margin="0,5,0,0" DisplayMemberPath="Name" SelectedValuePath="Id" SelectionChanged="GenreDirectorySelectionChanged" MouseDoubleClick="GenreDirectoryCancelSelection_DoubleClick"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>